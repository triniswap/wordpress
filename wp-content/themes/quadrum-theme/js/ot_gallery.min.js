"use strict";function OT_lightbox_slider(e,t){if(e.attr("rel")%8==0&&t=="right"){}if(e.attr("rel")%7==0&&t=="left"){}}var OT_gallery={main_image:function(e){if(e){return jQuery(".ot-slide-item").find(".ot-gallery-image")}else{return jQuery(".ot-gallery-image")}},next_button:function(e){return jQuery(".ot-slide-item").find(".next")},prev_button:function(e){return jQuery(".ot-slide-item").find(".prev")},next_image:function(e){return jQuery(".ot-slide-item").find(".next-image")},opened_image:function(e){return OT_gallery.main_image(e).attr("data-id")},active_thumb:function(e){return jQuery(".the-thumbs a")},total_img:function(e){return jQuery(".photo-gallery-full .photo-num-count").data("total")},a_click:function(e,t){OT_gallery.swipe(100);if(OT_gallery.main_image().attr("src")==""){OT_gallery.main_image().load(function(){OT_gallery.main_image().fadeIn("slow");jQuery(".waiter").removeClass("loading").addClass("loaded")})}else{OT_gallery.main_image().fadeIn("slow");jQuery(".waiter").removeClass("loading").addClass("loaded")}jQuery.each(OT_gallery.active_thumb(),function(){jQuery(this).removeClass("current");if(jQuery(this).attr("data-nr")==OT_gallery.opened_image(jQuery(this))){jQuery(this).addClass("current")}});jQuery(".ot-slide-item").on("click",".next, .prev, .gal-thumbs",function(){OT_gallery.Loading(jQuery(this),e,false)});jQuery(".ot-slide-item").on("click",".next",function(){OT_gallery.NextImage(jQuery(this))});jQuery(".ot-slide-item").on("click",".prev",function(){OT_gallery.PrevImage(jQuery(this))});jQuery(".ot-slide-item").on("click",".gal-thumbs",function(){var e=jQuery(this).attr("rel");if(jQuery(this).attr("rel")!=OT_gallery.total_img()){OT_gallery.next_button(jQuery(this)).attr("rel",parseInt(e)+1);OT_gallery.prev_button(jQuery(this)).attr("rel",parseInt(e)-1);OT_gallery.next_image(jQuery(this)).attr("data-next",parseInt(e)+1);OT_gallery.main_image(jQuery(this)).attr("data-id",parseInt(e))}else{OT_gallery.next_button(jQuery(this)).attr("rel",OT_gallery.total_img());OT_gallery.prev_button(jQuery(this)).attr("rel",parseInt(OT_gallery.total_img())-1);OT_gallery.next_image(jQuery(this)).attr("data-next",OT_gallery.total_img());OT_gallery.main_image(jQuery(this)).attr("data-id",parseInt(e))}if(jQuery(this).attr("rel")==1){OT_gallery.prev_button(jQuery(this)).attr("rel",0);OT_gallery.main_image(jQuery(this)).attr("data-id",parseInt(e))}});jQuery(".ot-slide-item").on("click",".next, .prev, .gal-thumbs",function(){OT_gallery.Thumbs(jQuery(this))})},NextImage:function(e){OT_lightbox_slider(e,"right");if(parseInt(OT_gallery.total_img())>OT_gallery.opened_image(e)){OT_gallery.main_image(e).attr("data-id",parseInt(OT_gallery.opened_image(e))+1);OT_gallery.prev_button(e).attr("rel",parseInt(OT_gallery.prev_button(e).attr("rel"))+1)}if(parseInt(OT_gallery.total_img())>parseInt(e.attr("rel"))){e.attr("rel",parseInt(e.attr("rel"))+1);OT_gallery.next_image(e).attr("data-next",parseInt(e.attr("rel")))}},PrevImage:function(e){OT_lightbox_slider(e,"left");if(parseInt(OT_gallery.opened_image(e))>1&&parseInt(OT_gallery.opened_image(e))!=jQuery(".next").attr("rel")){OT_gallery.next_button(e).attr("rel",parseInt(OT_gallery.next_button(e).attr("rel"))-1);OT_gallery.next_image(e).attr("data-next",parseInt(OT_gallery.next_button(e).attr("rel")))}if(parseInt(OT_gallery.opened_image(e))>1){e.attr("rel",parseInt(e.attr("rel"))-1);OT_gallery.main_image(e).attr("data-id",parseInt(OT_gallery.opened_image(e))-1)}},Loading:function(e,t,n){var r=jQuery(".ot-slide-item").attr("id");var e=e;var i=e.attr("rel");var s=jQuery(".ot-slide-item").find(".waiter");var o=OT_gallery.main_image(e);if((parseInt(OT_gallery.opened_image(e))<parseInt(OT_gallery.total_img())||i!=parseInt(OT_gallery.total_img()))&&i!=0&&i!=OT_gallery.opened_image(e)){s.removeClass("loaded");s.addClass("loading");jQuery.ajax({url:t,type:"POST",data:"action=load_next_image&gallery_id="+r+"&next_image="+i,success:function(e){o.attr("src",e);o.css("max-height",jQuery(window).height()+"px");o.load(function(){setTimeout(function(){s.removeClass("loading");s.addClass("loaded")},800)})}})}},Thumbs:function(e){jQuery.each(OT_gallery.active_thumb(),function(){jQuery(this).removeClass("current");if(jQuery(this).attr("data-nr")==OT_gallery.opened_image(e)){jQuery(this).addClass("current")}})},swipe:function(e){(function(t,n){var r=ot.adminUrl;var i=t(".waiter"),s=i.find(".image-big-gallery"),o=i.width();s.on("swipeleft",function(e){OT_gallery.Loading(t(".ot-slide-item .next"),r,true);OT_gallery.NextImage(t(".ot-slide-item .next"));OT_gallery.Thumbs(t(".ot-slide-item .next"))}).on("swiperight",function(e){OT_gallery.Loading(t(".ot-slide-item .prev"),r,true);OT_gallery.PrevImage(t(".ot-slide-item .prev"));OT_gallery.Thumbs(t(".ot-slide-item .prev"))}).on("movestart",function(e){if(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY){e.preventDefault();return}i.addClass("notransition")}).on("move",function(t){var n=e*t.distX/o;if(t.distX<0){if(s){s.css("left",n+"%");s.css("left",n+0+"%")}else{s.css("left",n/4+"%")}}if(t.distX>0){if(s){s.css("left",n+"%");s.css("left",n-0+"%")}else{s.css("left",n/5+"%")}}}).on("moveend",function(e){i.removeClass("notransition");s.css("left","");if(s){s.css("left","")}if(s){s.css("left","")}})})(jQuery)}};jQuery(document).ready(function(e){var t=ot.adminUrl;var n=ot.gallery_id;OT_gallery.a_click(t,n);jQuery(".ot-gallery-image").css("max-height",jQuery(window).height()+"px")});jQuery(window).resize(function(){jQuery(".ot-gallery-image").css("max-height",jQuery(window).height()+"px")});jQuery(document).keydown(function(e){var t=ot.adminUrl;if(e.keyCode==39){OT_gallery.Loading(jQuery(".ot-slide-item .next"),t,false);OT_gallery.NextImage(jQuery(".ot-slide-item .next"));OT_gallery.Thumbs(jQuery(".ot-slide-item .next"));return false}if(e.keyCode==37){OT_gallery.Loading(jQuery(".ot-slide-item .prev"),t,false);OT_gallery.PrevImage(jQuery(".ot-slide-item .prev"));OT_gallery.Thumbs(jQuery(".ot-slide-item .prev"));return false}})